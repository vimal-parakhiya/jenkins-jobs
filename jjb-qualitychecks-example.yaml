- job:
    name: mvn-qualitychecks-example
    project-type: maven
    description: 'A basic example of a `jjb` demonstrating quality checks"'

    maven:
      root-pom: pom.xml
      goals: "clean org.jacoco:jacoco-maven-plugin:prepare-agent install -Dmaven.test.failure.ignore=true sonar:sonar -Dsonar.login=fb68cfbe87fe3a5a9eff0f3e90de08adf42adfe1 -DactivateSonar"
      
    scm:
      - git:
          url: https://github.com/vimal-parakhiya/quality-checks-example.git
          branches:
            - origin/master
          clean:
            true

    triggers:
      - pollscm:
          cron: "0/30 0/1 * 1/1 * ? *"
          ignore-post-commit-hooks: True
      
    publishers:
      - violations:
          cpd:
            min: 0
            min: 1000
            unstable: 100
            pattern: '**/cpd.xml'
          pmd:
            min: 0
            min: 1000
            unstable: 100
            pattern: '**/pmd.xml'
          checkstyle:
            min: 0
            min: 1000
            unstable: 100
            pattern: '**/checkstyle-result.xml'
          findbugs:
            min: 0
            min: 1000
            unstable: 100
            pattern: '**/findbugsXml.xml'


